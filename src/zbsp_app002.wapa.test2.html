<!doctype html>                                                                                                                                                                                                                                                
<html>                                                                                                                                                                                                                                                         
                                                                                                                                                                                                                                                               
  <head>                                                                                                                                                                                                                                                       
    <title>Calling Web Service from jQuery</title>                                                                                                                                                                                                             
                                                                                                                                                                                                                                                               
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
    <script type="text/javascript">                                                                                                                                                                                                                            
      $(document).ready(function () {                                                                                                                                                                                                                          
        $("#btnCallWebService").click(function (event) {                                                                                                                                                                                                       
          var wsUrl = "http://llrrpp.sap.com:50081/sap/bc/srt/rfc/sap/zwbs_wb_get_airports/001/zwbs_wb_get_airports/zwbs_wb_get_airports";                                                                                                                     
          //var wsUrl = "http://llrrpp.sap.com:50081/sap/bc/srt/wsdl/flv_10002A111AD1/bndg_url/sap/bc/srt/rfc/sap/zwbs_wb_get_airports/001/zwbs_wb_get_airports/zwbs_wb_get_airports?sap-client=001";                                                          
          //var soapRequest =  '<soap:Envelope xmlns:soap="http://www.w3.org/2003/05/soap-envelope" ' +                                                                                                                                                        
          //let soapMessage = '<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/"xmlns:urn=\"urn:sap-com:document:sap:rfc:functions\"><soapenv:Header/><soapenv:Body><urn:ZFM_AIRPORT/></soapenv:Body></soapenv:Envelope>';          
         //let soapMessage = '<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/" xmlns:urn="urn:sap-com:document:sap:rfc:functions"><soapenv:Header/><soapenv:Body><urn:ZFM_AIRPORT/></soapenv:Body></soapenv:Envelope>';             
                                                                                                                                                                                                                                                               
         let soapMessage =                                                                                                                                                                                                                                     
          '<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/" ' +                                                                                                                                                                    
          'xmlns:urn="urn:sap-com:document:sap:rfc:functions">' +                                                                                                                                                                                              
          "<soapenv:Header/>" +                                                                                                                                                                                                                                
          "<soapenv:Body>" +                                                                                                                                                                                                                                   
          "<urn:ZFM_AIRPORT/>" +                                                                                                                                                                                                                               
          "</soapenv:Body>" +                                                                                                                                                                                                                                  
          "</soapenv:Envelope>";                                                                                                                                                                                                                               
                                                                                                                                                                                                                                                               
         $.support.cors = true;                                                                                                                                                                                                                                
          $.ajax({                                                                                                                                                                                                                                             
            type: 'POST',                                                                                                                                                                                                                                      
            url: wsUrl,                                                                                                                                                                                                                                        
            //contentType: "text/xml;charset=UTF-8",                                                                                                                                                                                                           
            contentType: "application/soap+xml; charset=utf-8",                                                                                                                                                                                                
            dataType: "xml",                                                                                                                                                                                                                                   
            CORS: true ,                                                                                                                                                                                                                                       
            headers: {                                                                                                                                                                                                                                         
              "Authorization": "Basic " + btoa("sapuser:User01$"),                                                                                                                                                                                             
              //'Access-Control-Allow-Origin': '*',                                                                                                                                                                                                            
              "Access-Control-Allow-Origin": "http://llrrpp.sap.com:50081",                                                                                                                                                                                    
              "Access-Control-Allow-Credentials": "true",                                                                                                                                                                                                      
               "Access-Control-Request-Headers": "x-requested-with",                                                                                                                                                                                           
             // "Accept": "*/*",                                                                                                                                                                                                                               
             // "Host": "llrrpp.sap.com:50081"                                                                                                                                                                                                                 
            "CORS": "true",                                                                                                                                                                                                                                    
            "set-cookie":	"sap-usercontext=sap-client=001; path=/"                                                                                                                                                                                             
//sap-srt_id  20230620/064540/v1.00_final_6.40/000C29CA28881EEE83DE607B80D117B5                                                                                                                                                                                
//content-type  application/soap+xml; charset=utf-8                                                                                                                                                                                                            
///sap-srt_server_info_ext  0                                                                                                                                                                                                                                  
//#status#  HTTP/1.1 200 OK                                                                                                                                                                                                                                    
//sap-srt_server_info	ER1_001,1435 ,urn:sap-com:document:sap:rfc:functions,zwbs_wb_get_airports,ZFM_AIRPORT,35                                                                                                                                                 
//accept  application/soap+xml                                                                                                                                                                                                                                 
            },                                                                                                                                                                                                                                                 
            data: soapMessage,                                                                                                                                                                                                                                 
            success: processSuccess,                                                                                                                                                                                                                           
            error: processError                                                                                                                                                                                                                                
          });                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
        });                                                                                                                                                                                                                                                    
      });                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
      function processSuccess(data, status, req) {                                                                                                                                                                                                             
        alert('success');                                                                                                                                                                                                                                      
        if (status == "success")                                                                                                                                                                                                                               
          alert(req.responseText);                                                                                                                                                                                                                             
      }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
      function processError(data, status, req) {                                                                                                                                                                                                               
        alert(req.responseText + " " + status);                                                                                                                                                                                                                
      }                                                                                                                                                                                                                                                        
                                                                                                                                                                                                                                                               
    </script>                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                               
  </head>                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
  <body>                                                                                                                                                                                                                                                       
    <h3>                                                                                                                                                                                                                                                       
        Calling SAP Web Services via JavaScript with jQuery/AJAX                                                                                                                                                                                               
    </h3>                                                                                                                                                                                                                                                      
    <input id="btnCallWebService" value="Call web service" type="button" />                                                                                                                                                                                    
  </body>                                                                                                                                                                                                                                                      
                                                                                                                                                                                                                                                               
</html>                                                                                                                                                                                                                                                        